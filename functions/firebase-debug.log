[debug] [2019-07-20T20:16:13.601Z] ----------------------------------------------------------------------
[debug] [2019-07-20T20:16:13.602Z] Command:       /usr/local/bin/node /Users/westonharper/.npm-global/bin/firebase deploy --only functions:createSetupIntent
[debug] [2019-07-20T20:16:13.603Z] CLI Version:   7.1.1
[debug] [2019-07-20T20:16:13.603Z] Platform:      darwin
[debug] [2019-07-20T20:16:13.603Z] Node Version:  v10.15.0
[debug] [2019-07-20T20:16:13.604Z] Time:          Sat Jul 20 2019 14:16:13 GMT-0600 (Mountain Daylight Time)
[debug] [2019-07-20T20:16:13.604Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-07-20T20:16:13.610Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-07-20T20:16:13.610Z] > authorizing via signed-in user
[debug] [2019-07-20T20:16:13.610Z] [iam] checking project snuze-stage for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2019-07-20T20:16:13.611Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/snuze-stage:testIamPermissions  

[debug] [2019-07-20T20:16:13.841Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'snuze-stage'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script.
[debug] [2019-07-20T20:16:19.114Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "tslint --project tsconfig.json",
    "build": "tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "8"
  },
  "main": "lib/index.js",
  "dependencies": {
    "dotenv": "^8.0.0",
    "firebase-admin": "^8.0.0",
    "firebase-functions": "^3.0.0",
    "stripe": "^7.4.0"
  },
  "devDependencies": {
    "@types/dotenv": "^6.1.1",
    "@types/stripe-v3": "^3.1.5",
    "tslint": "^5.12.0",
    "typescript": "^3.2.2"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2019-07-20T20:16:19.115Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/snuze-stage/services/cloudfunctions.googleapis.com  
 
[debug] [2019-07-20T20:16:19.116Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/snuze-stage/services/runtimeconfig.googleapis.com  
 
[debug] [2019-07-20T20:16:19.372Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T20:16:19.394Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2019-07-20T20:16:19.395Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/snuze-stage/adminSdkConfig  
 
[debug] [2019-07-20T20:16:19.529Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2019-07-20T20:16:19.532Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/snuze-stage/configs  
 
[debug] [2019-07-20T20:16:19.939Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (33.76 KB) for uploading
[debug] [2019-07-20T20:16:20.144Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/snuze-stage/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2019-07-20T20:16:20.379Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T20:16:20.380Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-f2c092ad-c6a0-4526-a18f-ce3723932bda/116b9344-cef7-486b-912d-53ed3e9280ba.zip?GoogleAccessId=service-470335422668@gcf-admin-robot.iam.gserviceaccount.com&Expires=1563655580&Signature=uPJZJ0NDIrRW3WN896DvEk5MEsP7%2B09raIl276oKfeKS5ZpEsWhyB78yMdEJI0rybruwn3zX5i0OE4v2m0QAHn98f7pvIjzyEaTkWiL6UluODRb3YxVDqcAwb2bkI0XRrP%2BX2wWamrlsEoY4uiFPqKSUL6Q0MdrEtxOMI4m9KuXauuWic0uXWEG5KRDhvkBFZ4%2BAfBjuy31NdjIW1mV2P4qceIbS1ywbsuI2kIENVCi1TccaMmP9ZGwO6QMe3LQkakZ8Gn16HWYPYCDg%2BFNFwyAFr9aP6y7slVnCpXf3SWuhp4K2%2F%2Fp9Zm38vocaq0S6FgIx9F%2BcOz5MwH1h%2FIqLtA%3D%3D  
 <request body omitted>
[debug] [2019-07-20T20:16:20.660Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[debug] [2019-07-20T20:16:20.662Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/snuze-stage/locations/-/functions  
 
[debug] [2019-07-20T20:16:20.957Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T20:16:20.958Z] > [functions] filtering triggers to: [
  "projects/snuze-stage/locations/us-central1/functions/createSetupIntent"
]
[info] i  functions: current functions in project: createSetupIntent(us-central1), createStripeUser(us-central1)
[info] i  functions: uploading functions in project: createSetupIntent(us-central1)
[info] i  functions: updating Node.js 8 function createSetupIntent(us-central1)...
[debug] [2019-07-20T20:16:20.963Z] Trigger is:  {"httpsTrigger":{}}
[debug] [2019-07-20T20:16:20.964Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/snuze-stage/services/cloudscheduler.googleapis.com  
 
[debug] [2019-07-20T20:16:21.219Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T20:16:21.221Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/snuze-stage/locations/us-central1/functions/createSetupIntent {"updateMask":"sourceUploadUrl,name,labels,runtime,httpsTrigger"} 

[debug] [2019-07-20T20:16:21.577Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T20:16:21.580Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/snuze-stage/locations/-/functions  
 
[debug] [2019-07-20T20:16:21.866Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T20:16:21.868Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c251emUtc3RhZ2UvdXMtY2VudHJhbDEvY3JlYXRlU2V0dXBJbnRlbnQvZWQyZW1CcFBvT28  
 
[debug] [2019-07-20T20:16:22.095Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T20:16:24.101Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c251emUtc3RhZ2UvdXMtY2VudHJhbDEvY3JlYXRlU2V0dXBJbnRlbnQvZWQyZW1CcFBvT28  
 
[debug] [2019-07-20T20:16:24.215Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T20:16:26.220Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c251emUtc3RhZ2UvdXMtY2VudHJhbDEvY3JlYXRlU2V0dXBJbnRlbnQvZWQyZW1CcFBvT28  
 
[debug] [2019-07-20T20:16:26.328Z] <<< HTTP RESPONSE 200
