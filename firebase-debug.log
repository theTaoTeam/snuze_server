[debug] [2019-07-20T17:54:47.568Z] ----------------------------------------------------------------------
[debug] [2019-07-20T17:54:47.570Z] Command:       /usr/local/bin/node /Users/westonharper/.npm-global/bin/firebase deploy --only functions
[debug] [2019-07-20T17:54:47.570Z] CLI Version:   7.1.1
[debug] [2019-07-20T17:54:47.570Z] Platform:      darwin
[debug] [2019-07-20T17:54:47.570Z] Node Version:  v10.15.0
[debug] [2019-07-20T17:54:47.571Z] Time:          Sat Jul 20 2019 11:54:47 GMT-0600 (Mountain Daylight Time)
[debug] [2019-07-20T17:54:47.571Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-07-20T17:54:47.578Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-07-20T17:54:47.578Z] > authorizing via signed-in user
[debug] [2019-07-20T17:54:47.578Z] [iam] checking project snuze-stage for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2019-07-20T17:54:47.580Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/snuze-stage:testIamPermissions  

[debug] [2019-07-20T17:54:47.804Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'snuze-stage'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script.
[debug] [2019-07-20T17:54:53.028Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "tslint --project tsconfig.json",
    "build": "tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "8"
  },
  "main": "lib/index.js",
  "dependencies": {
    "dotenv": "^8.0.0",
    "firebase-admin": "^8.0.0",
    "firebase-functions": "^3.0.0",
    "stripe": "^7.4.0"
  },
  "devDependencies": {
    "@types/dotenv": "^6.1.1",
    "@types/stripe": "^6.30.8",
    "tslint": "^5.12.0",
    "typescript": "^3.2.2"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2019-07-20T17:54:53.030Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/snuze-stage/services/cloudfunctions.googleapis.com  
 
[debug] [2019-07-20T17:54:53.031Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/snuze-stage/services/runtimeconfig.googleapis.com  
 
[debug] [2019-07-20T17:54:53.299Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T17:54:53.316Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2019-07-20T17:54:53.317Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/snuze-stage/adminSdkConfig  
 
[debug] [2019-07-20T17:54:53.497Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2019-07-20T17:54:53.500Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/snuze-stage/configs  
 
[debug] [2019-07-20T17:54:53.716Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (33.4 KB) for uploading
[debug] [2019-07-20T17:54:53.948Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/snuze-stage/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2019-07-20T17:54:54.306Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T17:54:54.307Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-f2c092ad-c6a0-4526-a18f-ce3723932bda/082192e9-cdf4-4913-a9b5-a4f95d3fa551.zip?GoogleAccessId=service-470335422668@gcf-admin-robot.iam.gserviceaccount.com&Expires=1563647094&Signature=uMWIn0wWqi29Z6enGXuM4jRz86XXidBvB6jy0DDsbDTNT%2FgTrJ9cNuQFl0k%2BzjxGdbfqpQUqD5a1tdeFhmRCFLvCtXm9Y0Ga9QVzpCAHnMwfcEVzkzX%2Fe5ChFODxSyaG7%2FUz%2Bdo4clND2ZDTgHQBQo%2BHhomOItkF3thJmWVXmm038yUQ89ozQwC7z%2BuFZUsX75IbfWK7Il1BDbQhdOlQWf3KVZocbd1l26u%2BuH%2FKzaqve251XqtFCsc4Lz%2F%2BTxr97wTSqLlqxtRSbDzwXbfrSDIV1QKpidu8yMi6KuK4LcSBD1herjQcbcMxLpBo%2B9iZ4AC7WbGGFgVFwUWai6ovJw%3D%3D  
 <request body omitted>
[debug] [2019-07-20T17:54:54.678Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[debug] [2019-07-20T17:54:54.681Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/snuze-stage/locations/-/functions  
 
[debug] [2019-07-20T17:54:55.058Z] <<< HTTP RESPONSE 200
[info] i  functions: updating Node.js 8 function createStripeUser(us-central1)...
[debug] [2019-07-20T17:54:55.061Z] Trigger is:  {"httpsTrigger":{}}
[debug] [2019-07-20T17:54:55.063Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/snuze-stage/services/cloudscheduler.googleapis.com  
 
[debug] [2019-07-20T17:54:55.278Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T17:54:55.280Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/snuze-stage/locations/us-central1/functions/createStripeUser {"updateMask":"sourceUploadUrl,name,labels,runtime,httpsTrigger"} 

[debug] [2019-07-20T17:54:56.087Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T17:54:56.089Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/snuze-stage/locations/-/functions  
 
[debug] [2019-07-20T17:54:56.395Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T17:54:56.396Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c251emUtc3RhZ2UvdXMtY2VudHJhbDEvY3JlYXRlU3RyaXBlVXNlci9VcXRuQWhwQ3pRVQ  
 
[debug] [2019-07-20T17:54:56.545Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T17:54:58.548Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c251emUtc3RhZ2UvdXMtY2VudHJhbDEvY3JlYXRlU3RyaXBlVXNlci9VcXRuQWhwQ3pRVQ  
 
[debug] [2019-07-20T17:54:58.685Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T17:55:00.692Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c251emUtc3RhZ2UvdXMtY2VudHJhbDEvY3JlYXRlU3RyaXBlVXNlci9VcXRuQWhwQ3pRVQ  
 
[debug] [2019-07-20T17:55:00.829Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T17:55:02.834Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c251emUtc3RhZ2UvdXMtY2VudHJhbDEvY3JlYXRlU3RyaXBlVXNlci9VcXRuQWhwQ3pRVQ  
 
[debug] [2019-07-20T17:55:02.966Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T17:55:04.967Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c251emUtc3RhZ2UvdXMtY2VudHJhbDEvY3JlYXRlU3RyaXBlVXNlci9VcXRuQWhwQ3pRVQ  
 
[debug] [2019-07-20T17:55:05.098Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T17:55:07.103Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c251emUtc3RhZ2UvdXMtY2VudHJhbDEvY3JlYXRlU3RyaXBlVXNlci9VcXRuQWhwQ3pRVQ  
 
[debug] [2019-07-20T17:55:07.362Z] <<< HTTP RESPONSE 200
[debug] [2019-07-20T17:55:09.364Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/c251emUtc3RhZ2UvdXMtY2VudHJhbDEvY3JlYXRlU3RyaXBlVXNlci9VcXRuQWhwQ3pRVQ  
 
[debug] [2019-07-20T17:55:09.512Z] <<< HTTP RESPONSE 200
